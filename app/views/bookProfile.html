<div ng-controller="bookProfileCtrl">
    <div class="container">
        <div class = "row">
            <div class="col-sm-6">
                <h1 style="text-transform: uppercase;">{{bookInfo.title}}</h1>
            </div>
        </div>
        <hr>
        <!-- Information of the book -->
        <div class="row">
            <div class="col-sm-4 col-sm-offset-2">
                <image id = "book-cover" src="../images/emily.jpeg"></image>
            </div>
            <div class="col-sm-6">
                <h3>Book Informations</h3>
                <div class="row">
                    <div class="col-sm-6 text-info">
                        <p>Title:</p>
                        <p>ISBN 10:</p>
                        <p>ISBN 13:</p>
                        <p>Author:</p>
                        <div ng-repeat="author in bookInfo.authors">
                            <p ng-show="bookInfo.authors.indexOf(author) != 0">&nbsp;</p>
                        </div>
                        <p>Language:</p>
                        <p>Pages:</p>
                        <p>Publisher:</p>
                        <p>Published Date:</p>
                        <p>Book Description:</p>
                    </div>
                    <div class="col-sm-6">
                        <p>{{bookInfo.title}}</p>
                        <p ng-show="bookInfo.title === null">undefined</p>
                        <p>{{bookInfo.ISBN10}}</p>
                        <p ng-show="bookInfo.ISBN10 === null">undefined</p>
                        <p>{{bookInfo.ISBN13}}</p>
                        <p ng-show="bookInfo.ISBN13 === null">undefined</p>
                        <div ng-repeat="author in bookInfo.authors">
                            <p>{{author}}</p>
                        </div>
                        <p ng-show="bookInfo.author === null">undefined</p>
                        <p>{{bookInfo.language}}</p>
                        <p ng-show="bookInfo.language === null">undefined</p>
                        <p>{{bookInfo.pages}}</p>
                        <p ng-show="bookInfo.pages === null">undefined</p>
                        <p>{{bookInfo.publisher}}</p>
                        <p ng-show="bookInfo.publisher === null">undefined</p>
                        <p>{{bookInfo.publish_date}}</p>
                        <p ng-show="bookInfo.publish_date === null">undefined</p>
                        <p>{{bookInfo.description}}</p>
                        <p ng-show="bookInfo.description === null">undefined</p>
                    </div>
                    <!-- <ul class="unstyled">
                        <li class="text-info">Title: {{bookInfo.title}}</li>
                        <li class="text-info">ISBN 10: {{bookInfo.ISBN10}}</li>
                        <li class="text-info">ISBN 13: {{bookInfo.ISBN13}}</li>
                        <li class="text-info">Author:  </li>
                        <div ng-repeat="author in bookInfo.authors">
                            <span class="text-info">{{author}}</span>
                        </div>
                        <li class="text-info">Language: {{bookInfo.language}}</li>
                        <li class="text-info">Pages: {{bookInfo.pages}}</li>
                        <li class="text-info">Publisher: {{bookInfo.publisher}}</li>
                        <li class="text-info">Published Date: {{bookInfo.publish_date}}</li>
                        <li class="text-success">Book Description: {{bookInfo.description}}</li>
                    </ul> -->
                </div>
            </div>
        </div>
        <hr>
        <!-- Selecting to use the default address or new address the Member wants to receive the book -->
        <div class = "row">
            <div class="col-sm-3">
                <h3>Shipping Address</h3><br>
                <input type="radio" name="address" id="defaultAddress" value="defaultAddress" checked><span style ="margin-left: 10px;margin-right: 10px">Default Address</span><br><br>
                <input type="radio" name="address" id="newAddress" value="newAddress"><span style ="margin-left: 10px; margin-right: 10px">New Address</span>
            </div>
            <div class="col-sm-9">
                <div id="googleMap" style="width:400px;height:300px;"></div>
            </div>
        </div>
        <br><br>

        <!-- Lists of shops in the nearby location that have the book to sell or for rent -->
        <uib-tabset justified="true">

            <!-- Buy New Books tab heading and its items -->
            <uib-tab heading="Buy New Books" ng-click="moveToBottom()">
                <br>
                <div ng-repeat="book in newBooksInfo">
                    <div class = "row">
                        <div class="col-sm-1">${{book.price}}</div>
                        <div class="col-sm-2">{{book.condition}}</div>
                        <div class="col-sm-5">{{book.address}}</div>
                        <div class="col-sm-2">In stock: {{book.quantity}}</div>
                        <div class="col-sm-2" ng-if="book.quantity >= 1"><button>Add To Cart</button></div>
                        <p ng-if="book.quantity == 0"></p>
                    </div>
                    <hr>
                </div>
            </uib-tab>

            <!-- Buy Used Books tab heading and its items -->
            <uib-tab heading="Buy Used Books" ng-click="moveToBottom()">
                <br>
                <div ng-repeat="book in oldBooksInfo">
                    <div class = "row">
                        <div class="col-sm-1">${{book.price}}</div>
                        <div class="col-sm-2">{{book.condition}}</div>
                        <div class="col-sm-5">{{book.address}}</div>
                        <div class="col-sm-2">In stock: {{book.quantity}}</div>
                        <div class="col-sm-2" ng-if="book.quantity >= 1"><button>Add To Cart</button></div>
                        <p ng-if="book.quantity == 0"></p>
                    </div>
                    <hr>
                </div>
                <br>
            </uib-tab>
            <!-- Rent Books tab heading and its items -->
            <uib-tab heading="Rent Books" ng-click="moveToBottom()">
                <br>
                <div ng-repeat="book in rentBooksInfo">
                    <div class = "row">
                        <div class="col-sm-1">${{book.price}}</div>
                        <div class="col-sm-2">{{book.condition}}</div>
                        <div class="col-sm-5">{{book.address}}</div>
                        <div class="col-sm-2">In stock: {{book.quantity}}</div>
                        <div class="col-sm-2" ng-if="book.quantity >= 1"><button>Add To Cart</button></div>
                        <p ng-if="book.quantity == 0"></p>
                    </div>
                    <hr>
                </div>
            </uib-tab>
        </uib-tabset>
        <!-- A random tag used to locate a place for moveToBottom() to scroll to -->
            <div id="bottom"></div>
    </div>
</div>
